<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç 2.2: –õ–æ–≥—ñ—á–Ω—ñ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∏</title>
    <style>
        /* === –°—Ç–∏–ª—ñ === */
        :root { --bg-color: #fff3e0; --text-color: #333; --primary-color: #0056b3; --correct-color: #d4edda; --correct-border: #c3e6cb; --wrong-color: #f8d7da; --wrong-border: #f5c6cb; --explanation-bg: #e2e3e5; --font-family: 'Segoe UI', sans-serif; --base-font-size: 18px; }
        body { font-family: var(--font-family); background-color: var(--bg-color); color: var(--text-color); margin: 0; padding: 20px; font-size: var(--base-font-size); }
        .a11y-toggle-btn { position: fixed; top: 20px; right: 20px; z-index: 1000; background: var(--primary-color); color: white; border: none; border-radius: 50%; width: 50px; height: 50px; font-size: 24px; cursor: pointer; display: flex; align-items: center; justify-content: center; }
        .a11y-panel { position: fixed; top: 80px; right: 20px; width: 300px; background: white; padding: 20px; border-radius: 8px; display: none; border: 2px solid var(--primary-color); z-index: 999; }
        .a11y-panel.open { display: block; } .a11y-control input { width: 100%; }
        .container { max-width: 800px; margin: 0 auto; background: white; padding: 40px; border-radius: 8px; }
        .nav-btn { display: inline-block; text-decoration: none; background-color: var(--primary-color); color: white; padding: 8px 15px; border-radius: 5px; margin-bottom: 20px; }
        .question-block { margin-bottom: 25px; padding: 15px; border: 1px solid #ddd; border-radius: 8px; }
        .options label { display: block; margin-bottom: 8px; cursor: pointer; padding: 5px; } .options label:hover { background-color: #f0f0f0; }
        .explanation { display: none; margin-top: 10px; padding: 10px; background-color: var(--explanation-bg); border-left: 5px solid #6c757d; }
        .submit-btn { display: block; width: 100%; background-color: #28a745; color: white; padding: 15px; border: none; border-radius: 8px; cursor: pointer; margin-top: 30px; }
        .retry-btn { display: none; width: 100%; background-color: #ffc107; padding: 15px; border: none; border-radius: 8px; cursor: pointer; margin-top: 30px; }
        #result-area { margin-top: 30px; padding: 20px; text-align: center; display: none; }
        .attempts-info { text-align: center; margin-top: 10px; font-weight: bold; color: #dc3545; background: #ffebee; padding: 10px; border-radius: 5px; }
        .correct-answer { background-color: var(--correct-color); } .wrong-answer { background-color: var(--wrong-color); }
    </style>
</head>
<body>

    <button class="a11y-toggle-btn" onclick="toggleA11yPanel()">üëÅÔ∏è</button>
    <div class="a11y-panel" id="a11yPanel">
        <h3>–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è</h3>
        <div class="a11y-control"><label>–†–æ–∑–º—ñ—Ä:</label><input type="range" min="14" max="26" value="18" oninput="document.documentElement.style.setProperty('--base-font-size', this.value + 'px')"></div>
    </div>

    <div class="container">
        <a href="../semester-01.html" class="nav-btn">‚Üê –ù–∞–∑–∞–¥ –¥–æ —Å–µ–º–µ—Å—Ç—Ä—É</a>
        <h1>–¢–µ—Å—Ç 2.2: –õ–æ–≥—ñ—á–Ω—ñ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∏</h1>
        
        <div id="attempt-message" class="attempts-info"></div>
        <p style="text-align:center; color:#666;">
            12 –ø–∏—Ç–∞–Ω—å. –ú–∞–∫—Å–∏–º—É–º 12 –±–∞–ª—ñ–≤.<br>
            <strong>–£–≤–∞–≥–∞!</strong> –£ –≤–∞—Å —î 2 —Å–ø—Ä–æ–±–∏. –Ø–∫—â–æ –≤–∏ –Ω–µ —Å–∫–ª–∞–¥–µ—Ç–µ —Ç–µ—Å—Ç, –Ω–∞—Å—Ç—É–ø–Ω–∞ —Å–ø—Ä–æ–±–∞ –±—É–¥–µ –¥–æ—Å—Ç—É–ø–Ω–∞ –ª–∏—à–µ —á–µ—Ä–µ–∑ 12 –≥–æ–¥–∏–Ω.
        </p>

        <form id="quiz-form">
            <div class="question-block" id="q1">
                <div class="question-title">1. –Ø–∫–∏–π —Ç–∏–ø –¥–∞–Ω–∏—Ö –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è true/false?</div>
                <div class="options">
                    <label><input type="radio" name="q1" value="a"> <code>int</code></label>
                    <label><input type="radio" name="q1" value="b"> <code>bool</code></label>
                    <label><input type="radio" name="q1" value="c"> <code>char</code></label>
                </div>
                <div class="explanation"><strong>–í—ñ–¥–ø–æ–≤—ñ–¥—å: bool.</strong></div>
            </div>

            <div class="question-block" id="q2">
                <div class="question-title">2. –©–æ –≤–∏–≤–µ–¥–µ <code>cout << true;</code> –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º?</div>
                <div class="options">
                    <label><input type="radio" name="q2" value="a"> true</label>
                    <label><input type="radio" name="q2" value="b"> 1</label>
                    <label><input type="radio" name="q2" value="c"> on</label>
                </div>
                <div class="explanation"><strong>–í—ñ–¥–ø–æ–≤—ñ–¥—å: 1.</strong> –î–ª—è —Ç–µ–∫—Å—Ç—É –ø–æ—Ç—Ä—ñ–±–µ–Ω `boolalpha`.</div>
            </div>

            <div class="question-block" id="q3">
                <div class="question-title">3. –†–µ–∑—É–ª—å—Ç–∞—Ç <code>true && false</code>?</div>
                <div class="options">
                    <label><input type="radio" name="q3" value="a"> true</label>
                    <label><input type="radio" name="q3" value="b"> false</label>
                </div>
                <div class="explanation"><strong>–í—ñ–¥–ø–æ–≤—ñ–¥—å: false.</strong> "–Ü" –≤–∏–º–∞–≥–∞—î –æ–±–∏–¥–≤–∞ true.</div>
            </div>

            <div class="question-block" id="q4">
                <div class="question-title">4. –†–µ–∑—É–ª—å—Ç–∞—Ç <code>true || false</code>?</div>
                <div class="options">
                    <label><input type="radio" name="q4" value="a"> true</label>
                    <label><input type="radio" name="q4" value="b"> false</label>
                </div>
                <div class="explanation"><strong>–í—ñ–¥–ø–æ–≤—ñ–¥—å: true.</strong> "–ê–ë–û" –¥–æ—Å—Ç–∞—Ç–Ω—å–æ –æ–¥–Ω–æ–≥–æ true.</div>
            </div>

            <div class="question-block" id="q5">
                <div class="question-title">5. –©–æ —Ä–æ–±–∏—Ç—å <code>!</code>?</div>
                <div class="options">
                    <label><input type="radio" name="q5" value="a"> –Ü–Ω–≤–µ—Ä—Ç—É—î (–ù–ï)</label>
                    <label><input type="radio" name="q5" value="b"> –í–∏–¥–∞–ª—è—î</label>
                    <label><input type="radio" name="q5" value="c"> –ü—ñ–¥—Ç–≤–µ—Ä–¥–∂—É—î</label>
                </div>
                <div class="explanation"><strong>–í—ñ–¥–ø–æ–≤—ñ–¥—å: –Ü–Ω–≤–µ—Ä—Ç—É—î.</strong></div>
            </div>

            <div class="question-block" id="q6">
                <div class="question-title">6. –°–∏–º–≤–æ–ª XOR?</div>
                <div class="options">
                    <label><input type="radio" name="q6" value="a"> <code>^</code></label>
                    <label><input type="radio" name="q6" value="b"> <code>**</code></label>
                    <label><input type="radio" name="q6" value="c"> <code>&</code></label>
                </div>
                <div class="explanation"><strong>–í—ñ–¥–ø–æ–≤—ñ–¥—å: ^.</strong></div>
            </div>

            <div class="question-block" id="q7">
                <div class="question-title">7. –ù–∞–π–≤–∏—â–∏–π –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç —É...</div>
                <div class="options">
                    <label><input type="radio" name="q7" value="a"> <code>||</code></label>
                    <label><input type="radio" name="q7" value="b"> <code>&&</code></label>
                    <label><input type="radio" name="q7" value="c"> <code>!</code></label>
                </div>
                <div class="explanation"><strong>–í—ñ–¥–ø–æ–≤—ñ–¥—å: ! (–ù–ï).</strong></div>
            </div>

            <div class="question-block" id="q8">
                <div class="question-title">8. <code>1 ^ 1</code> –¥–æ—Ä—ñ–≤–Ω—é—î?</div>
                <div class="options">
                    <label><input type="radio" name="q8" value="a"> 1</label>
                    <label><input type="radio" name="q8" value="b"> 0</label>
                </div>
                <div class="explanation"><strong>–í—ñ–¥–ø–æ–≤—ñ–¥—å: 0.</strong> –û–¥–Ω–∞–∫–æ–≤—ñ –∑–Ω–∞—á–µ–Ω–Ω—è –¥–∞—é—Ç—å 0.</div>
            </div>

            <div class="question-block" id="q9">
                <div class="question-title">9. –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –≤–∏–≤–æ–¥—É —Å–ª—ñ–≤ true/false?</div>
                <div class="options">
                    <label><input type="radio" name="q9" value="a"> <code>boolalpha</code></label>
                    <label><input type="radio" name="q9" value="b"> <code>text</code></label>
                    <label><input type="radio" name="q9" value="c"> <code>string</code></label>
                </div>
                <div class="explanation"><strong>–í—ñ–¥–ø–æ–≤—ñ–¥—å: boolalpha.</strong></div>
            </div>

            <div class="question-block" id="q10">
                <div class="question-title">10. –í–∏—Å–æ–∫–æ—Å–Ω–∏–π —Ä—ñ–∫: –¥—ñ–ª–∏—Ç—å—Å—è –Ω–∞ 4, –∞–ª–µ –Ω–µ –Ω–∞ 100...</div>
                <div class="options">
                    <label><input type="radio" name="q10" value="a"> –ê–ë–û –¥—ñ–ª–∏—Ç—å—Å—è –Ω–∞ 400</label>
                    <label><input type="radio" name="q10" value="b"> –Ü –¥—ñ–ª–∏—Ç—å—Å—è –Ω–∞ 400</label>
                </div>
                <div class="explanation"><strong>–í—ñ–¥–ø–æ–≤—ñ–¥—å: –ê–ë–û –Ω–∞ 400.</strong></div>
            </div>

            <div class="question-block" id="q11">
                <div class="question-title">11. –õ–æ–≥—ñ—á–Ω—ñ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∏ (2 –ø—Ä–∞–≤–∏–ª—å–Ω—ñ):</div>
                <div class="options">
                    <label><input type="checkbox" name="q11" value="a"> <code>&&</code></label>
                    <label><input type="checkbox" name="q11" value="b"> <code>||</code></label>
                    <label><input type="checkbox" name="q11" value="c"> <code>++</code></label>
                    <label><input type="checkbox" name="q11" value="d"> <code>%</code></label>
                </div>
                <div class="explanation"><strong>–í—ñ–¥–ø–æ–≤—ñ–¥—å: &&, ||.</strong></div>
            </div>

            <div class="question-block" id="q12">
                <div class="question-title">12. –ó–Ω–∞—á–µ–Ω–Ω—è bool (2 –ø—Ä–∞–≤–∏–ª—å–Ω—ñ):</div>
                <div class="options">
                    <label><input type="checkbox" name="q12" value="a"> <code>true</code></label>
                    <label><input type="checkbox" name="q12" value="b"> <code>false</code></label>
                    <label><input type="checkbox" name="q12" value="c"> <code>maybe</code></label>
                    <label><input type="checkbox" name="q12" value="d"> <code>null</code></label>
                </div>
                <div class="explanation"><strong>–í—ñ–¥–ø–æ–≤—ñ–¥—å: true, false.</strong></div>
            </div>

            <button type="button" id="submitBtn" class="submit-btn" onclick="checkAnswers()">–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏</button>
            <button type="button" id="retryBtn" class="retry-btn" onclick="location.reload()">–°–ø—Ä–æ–±—É–≤–∞—Ç–∏ —â–µ —Ä–∞–∑</button>
        </form>

        <div id="result-area">–í–∞—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç: <span id="score" class="score-box"></span> / 12</div>
    </div>

    <script>
        const TEST_ID = 'test_2_2_v2';
        const answers = { q1:'b', q2:'b', q3:'b', q4:'a', q5:'a', q6:'a', q7:'c', q8:'b', q9:'a', q10:'a', q11:['a','b'], q12:['a','b'] };
        const MAX_ATTEMPTS = 2; const LOCKOUT_TIME = 12*60*60*1000;

        function toggleA11yPanel() { document.getElementById('a11yPanel').classList.toggle('open'); }

        document.addEventListener('DOMContentLoaded', () => {
            const att = parseInt(localStorage.getItem(TEST_ID+'_a')||0);
            const time = parseInt(localStorage.getItem(TEST_ID+'_t')||0);
            const msg = document.getElementById('attempt-message');
            
            if(att >= MAX_ATTEMPTS && (Date.now()-time < LOCKOUT_TIME)) {
               disableTest();
               const hoursLeft = Math.ceil((LOCKOUT_TIME - (Date.now()-time)) / (1000*60*60));
               msg.innerHTML = `–°–ø—Ä–æ–±–∏ –≤–∏—á–µ—Ä–ø–∞–Ω–æ. –¢–µ—Å—Ç –∑–∞–±–ª–æ–∫–æ–≤–∞–Ω–æ.<br>–ù–∞—Å—Ç—É–ø–Ω–∞ —Å–ø—Ä–æ–±–∞ —á–µ—Ä–µ–∑ ${hoursLeft} –≥–æ–¥.`;
            } else {
               msg.innerHTML = `–°–ø—Ä–æ–±–∞ ${att+1} –∑ ${MAX_ATTEMPTS}`;
            }
        });

        function checkAnswers() {
            let score = 0;
            const form = document.getElementById('quiz-form');
            for(let i=1; i<=10; i++) { if(form.elements['q'+i].value === answers['q'+i]) score++; }
            ['q11','q12'].forEach(id => {
                const checked = Array.from(document.querySelectorAll(`input[name="${id}"]:checked`)).map(c=>c.value).sort();
                if(JSON.stringify(checked) === JSON.stringify(answers[id].sort())) score++;
            });

            let att = parseInt(localStorage.getItem(TEST_ID+'_a')||0) + 1;
            localStorage.setItem(TEST_ID+'_a', att);
            
            const resultArea = document.getElementById('result-area');
            document.getElementById('score').innerText = score;
            resultArea.style.display = 'block';

            if(score === 12 || att >= MAX_ATTEMPTS) {
                if(att >= MAX_ATTEMPTS) localStorage.setItem(TEST_ID+'_t', Date.now());
                showAnswers();
                disableTest();
                if(att >= MAX_ATTEMPTS && score < 12) {
                    document.getElementById('attempt-message').innerHTML = "–°–ø—Ä–æ–±–∏ –≤–∏—á–µ—Ä–ø–∞–Ω–æ. –ü—Ä–∞–≤–∏–ª—å–Ω—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –ø–æ–∫–∞–∑–∞–Ω–æ –Ω–∏–∂—á–µ. –ü–æ–≤—Ç–æ—Ä–Ω–∞ —Å–ø—Ä–æ–±–∞ —á–µ—Ä–µ–∑ 12 –≥–æ–¥–∏–Ω.";
                }
            } else {
                document.getElementById('submitBtn').style.display = 'none';
                document.getElementById('retryBtn').style.display = 'block';
                resultArea.innerHTML += "<br>–°–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑.";
            }
            resultArea.scrollIntoView({behavior:'smooth'});
        }

        function showAnswers() {
            for(let i=1; i<=12; i++) {
                document.getElementById('q'+i).querySelectorAll('.explanation').forEach(e=>e.style.display='block');
            }
        }

        function disableTest() {
            document.getElementById('submitBtn').disabled = true;
            document.getElementById('submitBtn').innerText = "–¢–µ—Å—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–æ";
            document.querySelectorAll('input').forEach(i => i.disabled=true);
        }
    </script>
</body>
</html>
